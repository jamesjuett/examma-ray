<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>ExamGrader | examma-ray</title><meta name="description" content="Documentation for examma-ray"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">examma-ray</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">examma-ray</a></li><li><a href="ExamGrader.html">ExamGrader</a></li></ul><h1>Module ExamGrader</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">

<a href="#todo-this-documentation-is-old-and-needs-to-be-updated-grading-exams" id="todo-this-documentation-is-old-and-needs-to-be-updated-grading-exams" style="color: inherit; text-decoration: none;">
  <h2>TODO this documentation is old and needs to be updated Grading Exams</h2>
</a>
</div><div><p>To start, you&#39;ll want to define some graders and a mapping from question IDs
for the questions you&#39;re using to those graders. You might put these in their own
files, or in the same file as the question definitions, or somewhere else.
Whatever organization you like is fine, as long as you can eventually import
the graders you define into your grading script.</p>
<p>The association between a question ID and the grader that handles that
question is done with a <a href="ExamGrader.html#GraderMap">GraderMap</a>.</p>

<a href="#srcrubrictfts" id="srcrubrictfts" style="color: inherit; text-decoration: none;">
  <h3><code>src/rubric/tf.ts</code></h3>
</a>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-5">GraderMap</span><span class="hl-0">, </span><span class="hl-5">SimpleMCGrader</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-6">&quot;examma-ray&quot;</span><span class="hl-0">;</span><br/><span class="hl-2">export</span><span class="hl-0"> </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">TF_Graders</span><span class="hl-0"> : </span><span class="hl-9">GraderMap</span><span class="hl-0"> = {</span><br/><span class="hl-0"> </span><span class="hl-6">&quot;sp20_mc_time_complexity_1&quot;</span><span class="hl-5"> :</span><span class="hl-0"> </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-1">SimpleMCGrader</span><span class="hl-0">(</span><span class="hl-10">0</span><span class="hl-0">),</span><br/><span class="hl-0"> </span><span class="hl-6">&quot;sp20_mc_time_complexity_2&quot;</span><span class="hl-5"> :</span><span class="hl-0"> </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-1">SimpleMCGrader</span><span class="hl-0">(</span><span class="hl-10">0</span><span class="hl-0">)</span><br/><span class="hl-0">};</span>
</code></pre>

<a href="#srcrubrics7_3ts" id="srcrubrics7_3ts" style="color: inherit; text-decoration: none;">
  <h3><code>src/rubric/s7_3.ts</code></h3>
</a>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-5">GraderMap</span><span class="hl-0">, </span><span class="hl-5">SimpleMCGrader</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-6">&quot;examma-ray&quot;</span><span class="hl-0">;</span><br/><span class="hl-2">export</span><span class="hl-0"> </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-4">S7_3_Grader</span><span class="hl-0"> = {</span><br/><span class="hl-0">  </span><span class="hl-6">&quot;sp20_7_3_assn_op&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-1">StandardSLGrader</span><span class="hl-0">([</span><br/><span class="hl-0">    {</span><br/><span class="hl-0">      </span><span class="hl-5">title:</span><span class="hl-0"> </span><span class="hl-6">&quot;Function Header&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">description:</span><span class="hl-0"> </span><span class="hl-6">`Function header has correct name, parameter, and return ...`</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">points:</span><span class="hl-0"> </span><span class="hl-10">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">required:</span><span class="hl-0"> [</span><span class="hl-10">1</span><span class="hl-0">],</span><br/><span class="hl-0">      </span><span class="hl-5">prohibited:</span><span class="hl-0"> [</span><span class="hl-10">0</span><span class="hl-0">]</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    {</span><br/><span class="hl-0">      </span><span class="hl-5">title:</span><span class="hl-0"> </span><span class="hl-6">&quot;Self-Assignment Check&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">description:</span><span class="hl-0"> </span><span class="hl-6">&quot;The function should compare the </span><span class="hl-11">\`</span><span class="hl-6">this</span><span class="hl-11">\`</span><span class="hl-6"> pointer, which ...&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">points:</span><span class="hl-0"> </span><span class="hl-10">0.5</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">required:</span><span class="hl-0"> [</span><span class="hl-10">3</span><span class="hl-0">],</span><br/><span class="hl-0">      </span><span class="hl-5">prohibited:</span><span class="hl-0"> [</span><span class="hl-10">2</span><span class="hl-0">]</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    ...</span>
</code></pre>
<p>and so on...</p>
<p>Then, set up a top-level grading script to create an <a href="../classes/ExamGrader.ExamGrader-1.html">ExamGrader</a>, register
your graders with it, load exams, grade the exams, and write out reports:</p>

<a href="#srcgradets" id="srcgradets" style="color: inherit; text-decoration: none;">
  <h3><code>src/grade.ts</code></h3>
</a>
<pre><code class="language-typescript"><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-5">ExamGrader</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-6">&quot;examma-ray&quot;</span><span class="hl-0">;</span><br/><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-5">exam</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-6">&quot;./exam-spec&quot;</span><br/><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-5">TF_Graders</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-6">&quot;./rubric/tf&quot;</span><span class="hl-0">;</span><br/><span class="hl-2">import</span><span class="hl-0"> { </span><span class="hl-5">S7_3_Grader</span><span class="hl-0"> } </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-6">&quot;./rubric/s7_3&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-3">let</span><span class="hl-0"> </span><span class="hl-5">grader</span><span class="hl-0"> = </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-1">ExamGrader</span><span class="hl-0">(</span><span class="hl-5">exam</span><span class="hl-0">, [</span><br/><span class="hl-0">  </span><span class="hl-5">TF_Graders</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">S7_3_Grader</span><br/><span class="hl-0">]);</span><br/><br/><span class="hl-5">grader</span><span class="hl-0">.</span><span class="hl-1">loadAllSubmissions</span><span class="hl-0">();</span><br/><span class="hl-5">grader</span><span class="hl-0">.</span><span class="hl-1">gradeAll</span><span class="hl-0">();</span><br/><span class="hl-5">grader</span><span class="hl-0">.</span><span class="hl-1">writeAll</span><span class="hl-0">();</span>
</code></pre>
<p>Note the import of <code>exam</code> in the example above. This comes from your exam
specification that you&#39;ve created in a separate file. TODO link to that documentation.</p>
<p>You might also have some questions (e.g. open-ended code writing) that require
people to manually grade. Calling <code>gradeAll()</code> won&#39;t fully grade those, but
it will trigger the appropriate graders to create grading assignment files.
Once those are filled in, just run the grading script again and it will pick
up the human-generated results in those files.</p>
<p>Several graders are currently supported:</p>
<ul>
<li><code>FreebieGrader</code> - Gives points to everyone (or, optionally, to all non-blank submissions)</li>
<li><code>SimpleMCGrader</code> - Grades an MC question with one right answer</li>
<li><code>SummationMCGrader</code> - Grades a multiple-select MC question where each selection is worth positive or negative points</li>
<li><code>FITBRegexGrader</code> - Uses regular expressions to grade each blank in an FITB question. Also comes with an interface for human review of unique answers</li>
<li><code>StandardSLGrader</code> - Grades SL (&quot;select-a-statement&quot;) questions based on which lines should/shouldn&#39;t be included</li>
</ul>
<p>The format for the graders looks like JSON, but it&#39;s actually typescript code defining an object literal, so autocomplete, etc. should be available in VS Code.</p>
<p>For the FITB Regex grader, you&#39;ll need to be familiar with javascript regular expression syntax.</p>
<ul>
<li>Tutorial/Documentation at <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions</a></li>
<li>Interactive tool for testing out regexes, really neat. <a href="https://regex101.com/">https://regex101.com/</a> Make sure to select the &quot;ECMAScript/Javascript&quot; flavor on the left side.</li>
<li>Tip: Normally, the regex will match against any substring of what the student entered. If you want it to only match the WHOLE thing, use <code>^</code> and <code>$</code>. For example, if you&#39;re looking to match any decimal number <code>/[\d\.]+</code> will match <code>6.2</code> and <code>My answer is 6.2</code>, whereas <code>^[\d\.]+$</code> will only match <code>6.2</code>. Essentially <code>^</code> means &quot;beginning of string&quot; and <code>$</code> means &quot;end of string&quot;.</li>
</ul>
<p>For now, refer to examples of existing graders. More thorough documentation coming.</p>
</div></div></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Type aliases</h3><ul class="tsd-index-list"><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="ExamGrader.html#ExamGraderOptions" class="tsd-kind-icon">Exam<wbr/>Grader<wbr/>Options</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="ExamGrader.html#GraderMap" class="tsd-kind-icon">Grader<wbr/>Map</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="ExamGrader.html#Exception" class="tsd-kind-icon">Exception</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="ExamGrader.html#ExceptionMap" class="tsd-kind-icon">Exception<wbr/>Map</a></li></ul></section><section class="tsd-index-section "><h3>Classes</h3><ul class="tsd-index-list"><li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/ExamGrader.ExamGrader-1.html" class="tsd-kind-icon">Exam<wbr/>Grader</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Type aliases</h2><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a name="ExamGraderOptions" class="tsd-anchor"></a><h3>Exam<wbr/>Grader<wbr/>Options</h3><div class="tsd-signature tsd-kind-icon">Exam<wbr/>Grader<wbr/>Options<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>frontend_js_path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>uuid_strategy<span class="tsd-signature-symbol">: </span><a href="ExamGenerator.html#UUID_Strategy" class="tsd-signature-type" data-tsd-kind="Type alias">UUID_Strategy</a><span class="tsd-signature-symbol">; </span>uuidv5_namespace<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jamesjuett/examma-ray/blob/35d34e6/src/ExamGrader.ts#L119">ExamGrader.ts:119</a></li></ul></aside><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>frontend_<wbr/>js_<wbr/>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5>uuid_<wbr/>strategy<span class="tsd-signature-symbol">: </span><a href="ExamGenerator.html#UUID_Strategy" class="tsd-signature-type" data-tsd-kind="Type alias">UUID_Strategy</a></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> uuidv5_<wbr/>namespace<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a name="GraderMap" class="tsd-anchor"></a><h3>Grader<wbr/>Map</h3><div class="tsd-signature tsd-kind-icon">Grader<wbr/>Map<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{}</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jamesjuett/examma-ray/blob/35d34e6/src/ExamGrader.ts#L561">ExamGrader.ts:561</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A mapping of question ID to grader.</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span>index: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><a href="../interfaces/core.QuestionGrader.html" class="tsd-signature-type" data-tsd-kind="Interface">QuestionGrader</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a name="Exception" class="tsd-anchor"></a><h3>Exception</h3><div class="tsd-signature tsd-kind-icon">Exception<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>adjustedScore<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>explanation<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jamesjuett/examma-ray/blob/35d34e6/src/ExamGrader.ts#L569">ExamGrader.ts:569</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>An exception including an adjusted score and an explanation
of why the exception was applied.</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>adjusted<wbr/>Score<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5>explanation<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a name="ExceptionMap" class="tsd-anchor"></a><h3>Exception<wbr/>Map</h3><div class="tsd-signature tsd-kind-icon">Exception<wbr/>Map<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{}</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/jamesjuett/examma-ray/blob/35d34e6/src/ExamGrader.ts#L579">ExamGrader.ts:579</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A mapping from (uniqname, question id) to any exceptions applied
for that student for that question. Only one exception may be
specified per student/question pair.</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span>index: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-symbol">{}</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span>index: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><a href="ExamGrader.html#Exception" class="tsd-signature-type" data-tsd-kind="Type alias">Exception</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span></h5></li></ul></li></ul></div></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="ExamGenerator.html">Exam<wbr/>Generator</a></li><li class="current tsd-kind-module"><a href="ExamGrader.html">Exam<wbr/>Grader</a></li><li class=" tsd-kind-module"><a href="core.html">core</a></li><li class=" tsd-kind-module"><a href="core_assigned_exams.html">core/assigned_<wbr/>exams</a></li><li class=" tsd-kind-module"><a href="core_exam_components.html">core/exam_<wbr/>components</a></li><li class=" tsd-kind-module"><a href="core_exam_specification.html">core/exam_<wbr/>specification</a></li><li class=" tsd-kind-module"><a href="core_randomization.html">core/randomization</a></li><li class=" tsd-kind-module"><a href="core_skins.html">core/skins</a></li><li class=" tsd-kind-module"><a href="graders.html">graders</a></li><li class=" tsd-kind-module"><a href="graders_FITBRegexGrader.html">graders/FITBRegex<wbr/>Grader</a></li><li class=" tsd-kind-module"><a href="response_common.html">response/common</a></li><li class=" tsd-kind-module"><a href="response_fitb.html">response/fitb</a></li><li class=" tsd-kind-module"><a href="response_mc.html">response/mc</a></li><li class=" tsd-kind-module"><a href="response_select_lines.html">response/select_<wbr/>lines</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="ExamGrader.html#ExamGraderOptions" class="tsd-kind-icon">Exam<wbr/>Grader<wbr/>Options</a></li><li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/ExamGrader.ExamGrader-1.html" class="tsd-kind-icon">Exam<wbr/>Grader</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="ExamGrader.html#GraderMap" class="tsd-kind-icon">Grader<wbr/>Map</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="ExamGrader.html#Exception" class="tsd-kind-icon">Exception</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="ExamGrader.html#ExceptionMap" class="tsd-kind-icon">Exception<wbr/>Map</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li><li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>